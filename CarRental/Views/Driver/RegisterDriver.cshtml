@model DriverRegistrationView

@{
    var isPending = TempData["isPending"] as bool?;
}

@if (isPending.HasValue && isPending.Value) {
    <h2>
        Your request is still pending. Please wait for approval.
    </h2>
} else {
    <form enctype="multipart/form-data" asp-action="RegisterDriver" method="post" class="p-4 bg-light rounded shadow-sm">
        <h2 class="text-center mb-4">Driver Registration</h2>

        <div class="form-group mb-3">
            <label asp-for="LicenseNumber" class="form-label fw-bold">License Number</label>
            <input class="form-control"
                   id="LicenseNumber"
                   name="LicenseNumber"
                   asp-for="LicenseNumber"
                   placeholder="Enter your license number" />
        </div>

        <div class="form-group mb-3">
            <label asp-for="LicenseExpiryDate" class="form-label fw-bold">License Expiry Date</label>
            <input class="form-control"
                   id="LicenseExpiryDate"
                   name="LicenseExpiryDate"
                   asp-for="LicenseExpiryDate"
                   type="date" />
        </div>

        <div class="form-group mb-3">
            <label asp-for="LicenseImg" class="form-label fw-bold">Upload License Image</label>
            <input class="form-control"
                   id="LicenseImg"
                   name="LicenseImg"
                   asp-for="LicenseImg"
                   type="file" />
        </div>

        <div class="form-group mb-3">
            <label asp-for="NationalIdImg" class="form-label fw-bold">Upload National ID</label>
            <input class="form-control"
                   id="NationalIdImg"
                   name="NationalIdImg"
                   asp-for="NationalIdImg"
                   type="file" />
        </div>

        <div class="d-flex justify-content-center gap-2">
            <button type="submit" class="btn btn-primary w-25">Submit</button>
            <a asp-controller="Home" asp-action="Index" class="btn btn-secondary w-25">Back</a>
        </div>
    </form>
}




@* @{
    var message = TempData["Message"] as string;
}

<!-- Modal -->
<div class="modal fade" id="approvalModal" tabindex="-1" aria-labelledby="approvalModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="approvalModalLabel">Approval Status</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                @if (!string.IsNullOrEmpty(message)) {
                    <p>@message</p>
                }
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Include the Bootstrap 5 JS and CSS (if not already included) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

<script>
    // Check if the message exists, if so, show the modal
    $(document).ready(function () {
        var message = '@TempData["Message"]';
        if (message) {
            var myModal = new bootstrap.Modal(document.getElementById('approvalModal'));
            myModal.show();
        }
    });
</script> *@



